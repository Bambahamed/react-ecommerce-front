import{r as s,i as re,m as oe,k as ae,h as ve,a2 as ye,C as H,z as be,o as B,a3 as Ce,K as xe,a4 as se,R as Se,a5 as Oe,a6 as $e,F as we,b as Pe,j as I,N as Z}from"./index-C2HzGy_n.js";import{B as ze}from"./index-Cgi2wF1a.js";import{a as ie,R as je,u as Ee}from"./index-D_YutXat.js";import{u as Ne,r as Re}from"./useBreakpoint-CEnMdJds.js";import{i as ke,g as Ie,P as Ae,a as Be,b as Me,c as Fe,T as Te}from"./index-B5yKs8Pq.js";import{c as le}from"./reactNode-D5QBnBnH.js";const _e=s.createContext({}),J=_e,We=e=>{const{antCls:n,componentCls:r,iconCls:t,avatarBg:i,avatarColor:a,containerSize:l,containerSizeLG:c,containerSizeSM:o,textFontSize:d,textFontSizeLG:u,textFontSizeSM:m,borderRadius:g,borderRadiusLG:f,borderRadiusSM:v,lineWidth:p,lineType:S}=e,y=(C,x,b)=>({width:C,height:C,borderRadius:"50%",[`&${r}-square`]:{borderRadius:b},[`&${r}-icon`]:{fontSize:x,[`> ${t}`]:{margin:0}}});return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({},ae(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:a,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:i,border:`${ve(p)} ${S} transparent`,"&-image":{background:"transparent"},[`${n}-image-img`]:{display:"block"}}),y(l,d,g)),{"&-lg":Object.assign({},y(c,u,f)),"&-sm":Object.assign({},y(o,m,v)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},De=e=>{const{componentCls:n,groupBorderColor:r,groupOverlapping:t,groupSpace:i}=e;return{[`${n}-group`]:{display:"inline-flex",[`${n}`]:{borderColor:r},"> *:not(:first-child)":{marginInlineStart:t}},[`${n}-group-popover`]:{[`${n} + ${n}`]:{marginInlineStart:i}}}},Ge=e=>{const{controlHeight:n,controlHeightLG:r,controlHeightSM:t,fontSize:i,fontSizeLG:a,fontSizeXL:l,fontSizeHeading3:c,marginXS:o,marginXXS:d,colorBorderBg:u}=e;return{containerSize:n,containerSizeLG:r,containerSizeSM:t,textFontSize:Math.round((a+l)/2),textFontSizeLG:c,textFontSizeSM:i,groupSpace:d,groupOverlapping:-o,groupBorderColor:u}},ce=re("Avatar",e=>{const{colorTextLightSolid:n,colorTextPlaceholder:r}=e,t=oe(e,{avatarBg:r,avatarColor:n});return[We(t),De(t)]},Ge);var Ve=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const He=(e,n)=>{const[r,t]=s.useState(1),[i,a]=s.useState(!1),[l,c]=s.useState(!0),o=s.useRef(null),d=s.useRef(null),u=ye(n,o),{getPrefixCls:m,avatar:g}=s.useContext(H),f=s.useContext(J),v=()=>{if(!d.current||!o.current)return;const w=d.current.offsetWidth,P=o.current.offsetWidth;if(w!==0&&P!==0){const{gap:k=4}=e;k*2<P&&t(P-k*2<w?(P-k*2)/w:1)}};s.useEffect(()=>{a(!0)},[]),s.useEffect(()=>{c(!0),t(1)},[e.src]),s.useEffect(v,[e.gap]);const p=()=>{const{onError:w}=e;(w==null?void 0:w())!==!1&&c(!1)},{prefixCls:S,shape:y,size:C,src:x,srcSet:b,icon:h,className:N,rootClassName:j,alt:R,draggable:D,children:A,crossOrigin:z}=e,O=Ve(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),$=be(w=>{var P,k;return(k=(P=C??(f==null?void 0:f.size))!==null&&P!==void 0?P:w)!==null&&k!==void 0?k:"default"}),X=Object.keys(typeof $=="object"?$||{}:{}).some(w=>["xs","sm","md","lg","xl","xxl"].includes(w)),L=Ne(X),K=s.useMemo(()=>{if(typeof $!="object")return{};const w=Re.find(k=>L[k]),P=$[w];return P?{width:P,height:P,fontSize:P&&(h||A)?P/2:18}:{}},[L,$]),E=m("avatar",S),F=ie(E),[q,Q,T]=ce(E,F),M=B({[`${E}-lg`]:$==="large",[`${E}-sm`]:$==="small"}),_=s.isValidElement(x),G=y||(f==null?void 0:f.shape)||"circle",V=B(E,M,g==null?void 0:g.className,`${E}-${G}`,{[`${E}-image`]:_||x&&l,[`${E}-icon`]:!!h},T,F,N,j,Q),Y=typeof $=="number"?{width:$,height:$,fontSize:h?$/2:18}:{};let W;if(typeof x=="string"&&l)W=s.createElement("img",{src:x,draggable:D,srcSet:b,onError:p,alt:R,crossOrigin:z});else if(_)W=x;else if(h)W=h;else if(i||r!==1){const w=`scale(${r})`,P={msTransform:w,WebkitTransform:w,transform:w};W=s.createElement(je,{onResize:v},s.createElement("span",{className:`${E}-string`,ref:d,style:Object.assign({},P)},A))}else W=s.createElement("span",{className:`${E}-string`,style:{opacity:0},ref:d},A);return delete O.onError,delete O.gap,q(s.createElement("span",Object.assign({},O,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Y),K),g==null?void 0:g.style),O.style),className:V,ref:u}),W))},Le=s.forwardRef(He),de=Le,U=e=>e?typeof e=="function"?e():e:null,Ue=e=>{const{componentCls:n,popoverColor:r,titleMinWidth:t,fontWeightStrong:i,innerPadding:a,boxShadowSecondary:l,colorTextHeading:c,borderRadiusLG:o,zIndexPopup:d,titleMarginBottom:u,colorBgElevated:m,popoverBg:g,titleBorderBottom:f,innerContentPadding:v,titlePadding:p}=e;return[{[n]:Object.assign(Object.assign({},ae(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":m,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{backgroundColor:g,backgroundClip:"padding-box",borderRadius:o,boxShadow:l,padding:a},[`${n}-title`]:{minWidth:t,marginBottom:u,color:c,fontWeight:i,borderBottom:f,padding:p},[`${n}-inner-content`]:{color:r,padding:v}})},Ie(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${n}-content`]:{display:"inline-block"}}}]},Xe=e=>{const{componentCls:n}=e;return{[n]:Ae.map(r=>{const t=e[`${r}6`];return{[`&${n}-${r}`]:{"--antd-arrow-background-color":t,[`${n}-inner`]:{backgroundColor:t},[`${n}-arrow`]:{background:"transparent"}}}})}},Ke=e=>{const{lineWidth:n,controlHeight:r,fontHeight:t,padding:i,wireframe:a,zIndexPopupBase:l,borderRadiusLG:c,marginXS:o,lineType:d,colorSplit:u,paddingSM:m}=e,g=r-t,f=g/2,v=g/2-n,p=i;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},Be(e)),Me({contentRadius:c,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:o,titlePadding:a?`${f}px ${p}px ${v}px`:0,titleBorderBottom:a?`${n}px ${d} ${u}`:"none",innerContentPadding:a?`${m}px ${p}px`:0})},ue=re("Popover",e=>{const{colorBgElevated:n,colorText:r}=e,t=oe(e,{popoverBg:n,popoverColor:r});return[Ue(t),Xe(t),ke(t,"zoom-big")]},Ke,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var qe=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Qe=(e,n,r)=>!n&&!r?null:s.createElement(s.Fragment,null,n&&s.createElement("div",{className:`${e}-title`},U(n)),s.createElement("div",{className:`${e}-inner-content`},U(r))),Ye=e=>{const{hashId:n,prefixCls:r,className:t,style:i,placement:a="top",title:l,content:c,children:o}=e;return s.createElement("div",{className:B(n,r,`${r}-pure`,`${r}-placement-${a}`,t),style:i},s.createElement("div",{className:`${r}-arrow`}),s.createElement(Fe,Object.assign({},e,{className:n,prefixCls:r}),o||Qe(r,l,c)))},Je=e=>{const{prefixCls:n,className:r}=e,t=qe(e,["prefixCls","className"]),{getPrefixCls:i}=s.useContext(H),a=i("popover",n),[l,c,o]=ue(a);return l(s.createElement(Ye,Object.assign({},t,{prefixCls:a,hashId:c,className:B(r,o)})))},Ze=Je;var et=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const tt=e=>{let{title:n,content:r,prefixCls:t}=e;return s.createElement(s.Fragment,null,n&&s.createElement("div",{className:`${t}-title`},U(n)),s.createElement("div",{className:`${t}-inner-content`},U(r)))},ge=s.forwardRef((e,n)=>{var r;const{prefixCls:t,title:i,content:a,overlayClassName:l,placement:c="top",trigger:o="hover",children:d,mouseEnterDelay:u=.1,mouseLeaveDelay:m=.1,onOpenChange:g,overlayStyle:f={}}=e,v=et(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:p}=s.useContext(H),S=p("popover",t),[y,C,x]=ue(S),b=p(),h=B(l,C,x),[N,j]=Ee(!1,{value:(r=e.open)!==null&&r!==void 0?r:e.visible}),R=(z,O)=>{j(z,!0),g==null||g(z,O)},D=z=>{z.keyCode===xe.ESC&&R(!1,z)},A=z=>{R(z)};return y(s.createElement(Te,Object.assign({placement:c,trigger:o,mouseEnterDelay:u,mouseLeaveDelay:m,overlayStyle:f},v,{prefixCls:S,overlayClassName:h,ref:n,open:N,onOpenChange:A,overlay:i||a?s.createElement(tt,{prefixCls:S,title:i,content:a}):null,transitionName:Ce(b,"zoom-big",v.transitionName),"data-popover-inject":!0}),le(d,{onKeyDown:z=>{var O,$;s.isValidElement(d)&&(($=d==null?void 0:(O=d.props).onKeyDown)===null||$===void 0||$.call(O,z)),D(z)}})))});ge._InternalPanelDoNotUseOrYouWillBeFired=Ze;const nt=ge,ee=e=>{const{size:n,shape:r}=s.useContext(J),t=s.useMemo(()=>({size:e.size||n,shape:e.shape||r}),[e.size,e.shape,n,r]);return s.createElement(J.Provider,{value:t},e.children)},rt=e=>{const{getPrefixCls:n,direction:r}=s.useContext(H),{prefixCls:t,className:i,rootClassName:a,style:l,maxCount:c,maxStyle:o,size:d,shape:u,maxPopoverPlacement:m="top",maxPopoverTrigger:g="hover",children:f}=e,v=n("avatar",t),p=`${v}-group`,S=ie(v),[y,C,x]=ce(v,S),b=B(p,{[`${p}-rtl`]:r==="rtl"},x,S,i,a,C),h=se(f).map((j,R)=>le(j,{key:`avatar-key-${R}`})),N=h.length;if(c&&c<N){const j=h.slice(0,c),R=h.slice(c,N);return j.push(s.createElement(nt,{key:"avatar-popover-key",content:R,trigger:g,placement:m,overlayClassName:`${p}-popover`,destroyTooltipOnHide:!0},s.createElement(de,{style:o},`+${N-c}`))),y(s.createElement(ee,{shape:u,size:d},s.createElement("div",{className:b,style:l},j)))}return y(s.createElement(ee,{shape:u,size:d},s.createElement("div",{className:b,style:l},h)))},ot=rt,me=de;me.Group=ot;const at=me;function te(e){return["small","middle","large"].includes(e)}function ne(e){return e?typeof e=="number"&&!Number.isNaN(e):!1}const pe=Se.createContext({latestIndex:0}),st=pe.Provider,it=e=>{let{className:n,index:r,children:t,split:i,style:a}=e;const{latestIndex:l}=s.useContext(pe);return t==null?null:s.createElement(s.Fragment,null,s.createElement("div",{className:n,style:a},t),r<l&&i&&s.createElement("span",{className:`${n}-split`},i))},lt=it;var ct=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const dt=s.forwardRef((e,n)=>{var r,t;const{getPrefixCls:i,space:a,direction:l}=s.useContext(H),{size:c=(a==null?void 0:a.size)||"small",align:o,className:d,rootClassName:u,children:m,direction:g="horizontal",prefixCls:f,split:v,style:p,wrap:S=!1,classNames:y,styles:C}=e,x=ct(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[b,h]=Array.isArray(c)?c:[c,c],N=te(h),j=te(b),R=ne(h),D=ne(b),A=se(m,{keepEmpty:!0}),z=o===void 0&&g==="horizontal"?"center":o,O=i("space",f),[$,X,L]=$e(O),K=B(O,a==null?void 0:a.className,X,`${O}-${g}`,{[`${O}-rtl`]:l==="rtl",[`${O}-align-${z}`]:z,[`${O}-gap-row-${h}`]:N,[`${O}-gap-col-${b}`]:j},d,u,L),E=B(`${O}-item`,(r=y==null?void 0:y.item)!==null&&r!==void 0?r:(t=a==null?void 0:a.classNames)===null||t===void 0?void 0:t.item);let F=0;const q=A.map((M,_)=>{var G,V;M!=null&&(F=_);const Y=M&&M.key||`${E}-${_}`;return s.createElement(lt,{className:E,key:Y,index:_,split:v,style:(G=C==null?void 0:C.item)!==null&&G!==void 0?G:(V=a==null?void 0:a.styles)===null||V===void 0?void 0:V.item},M)}),Q=s.useMemo(()=>({latestIndex:F}),[F]);if(A.length===0)return null;const T={};return S&&(T.flexWrap="wrap"),!j&&D&&(T.columnGap=b),!N&&R&&(T.rowGap=h),$(s.createElement("div",Object.assign({ref:n,className:K,style:Object.assign(Object.assign(Object.assign({},T),a==null?void 0:a.style),p)},x),s.createElement(st,{value:Q},q)))}),fe=dt;fe.Compact=Oe;const ut=fe;var he={exports:{}};(()=>{var e={d:(a,l)=>{for(var c in l)e.o(l,c)&&!e.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},o:(a,l)=>Object.prototype.hasOwnProperty.call(a,l),r:a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},n={};function r(a,l){for(var c=0;c<l.length;c++){var o=l[c];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}e.r(n),e.d(n,{default:()=>i});var t=function(){function a(){(function(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a)}var l,c;return l=a,c=[{key:"changeHeightWidth",value:function(o,d,u,m,g,f){return u>m&&(o=Math.round(o*m/u),u=m),o>d&&(u=Math.round(u*d/o),o=d),g&&u<g&&(o=Math.round(o*g/u),u=g),f&&o<f&&(u=Math.round(u*f/o),o=f),{height:o,width:u}}},{key:"resizeAndRotateImage",value:function(o,d,u,m,g){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,p=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,S=v/100,y=document.createElement("canvas"),C=o.width,x=o.height,b=this.changeHeightWidth(x,u,C,d,m,g);!p||p!==90&&p!==270?(y.width=b.width,y.height=b.height):(y.width=b.height,y.height=b.width),C=b.width,x=b.height;var h=y.getContext("2d");return h.fillStyle="rgba(0, 0, 0, 0)",h.fillRect(0,0,C,x),h.imageSmoothingEnabled&&h.imageSmoothingQuality&&(h.imageSmoothingQuality="high"),p&&(h.rotate(p*Math.PI/180),p===90?h.translate(0,-y.width):p===180?h.translate(-y.width,-y.height):p===270?h.translate(-y.height,0):p!==0&&p!==360||h.translate(0,0)),h.drawImage(o,0,0,C,x),y.toDataURL("image/".concat(f),S)}},{key:"b64toByteArrays",value:function(o,d){for(var u=atob(o.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),m=[],g=0;g<u.length;g+=512){for(var f=u.slice(g,g+512),v=new Array(f.length),p=0;p<f.length;p++)v[p]=f.charCodeAt(p);var S=new Uint8Array(v);m.push(S)}return m}},{key:"b64toBlob",value:function(o,d){var u=this.b64toByteArrays(o,d);return new Blob(u,{type:d,lastModified:new Date})}},{key:"b64toFile",value:function(o,d,u){var m=this.b64toByteArrays(o,u);return new File(m,d,{type:u,lastModified:new Date})}},{key:"createResizedImage",value:function(o,d,u,m,g,f,v){var p=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",S=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,y=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,C=new FileReader;if(!o)throw Error("File Not Found!");if(o.type&&!o.type.includes("image"))throw Error("File Is NOT Image!");C.readAsDataURL(o),C.onload=function(){var x=new Image;x.src=C.result,x.onload=function(){var b=a.resizeAndRotateImage(x,d,u,S,y,m,g,f),h="image/".concat(m);switch(p){case"blob":var N=a.b64toBlob(b,h);v(N);break;case"base64":v(b);break;case"file":var j=o.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(m.toString()),R=a.b64toFile(b,j,h);v(R);break;default:v(b)}}},C.onerror=function(x){throw Error(x)}}}],c&&r(l,c),a}();const i={imageFileResizer:function(a,l,c,o,d,u,m,g,f,v){return t.createResizedImage(a,l,c,o,d,u,m,g,f,v)}};he.exports=n})();var gt=he.exports;const mt=we(gt),Ct=({values:e,setLoading:n,setValues:r})=>{const{user:t}=Pe(l=>({...l})),i=l=>{l.preventDefault();let c=l.target.files,o=e.images;if(c){n(!0);for(let d=0;d<c.length;d++)mt.imageFileResizer(c[d],720,720,"JPEG",100,0,u=>{console.log(u),Z.post("http://localhost:8000/api/uploadimages",{image:u},{headers:{authtoken:t?t.token:""}}).then(m=>{console.log("IMAGE UPLOAD RES DATA",m.data),n(!1),o.push(m.data),r({...e,images:o})}).catch(m=>{n(!1),console.log("CLOUDINARY UPLOAD ERR",m)})},"base64")}},a=l=>{n(!0),console.log("Remove image",l),Z.post("http://localhost:8000/api/removeimages",{public_id:l},{headers:{authtoken:t?t.token:""}}).then(c=>{n(!1);const{images:o}=e;let d=o.filter(u=>u.public_id!==l);r({...e,images:d})}).catch(c=>{console.log("ssss",c),n(!1)})};return I.jsxs(I.Fragment,{children:[I.jsx("div",{children:e.images&&e.images.map(l=>I.jsx(ut,{style:{margin:"10px 10px"},children:I.jsx(ze,{count:"X",onClick:()=>a(l.public_id),style:{cursor:"pointer"},children:I.jsx(at,{src:l.url,size:100,shape:"square",className:"ml-3"})},l.public_id)}))}),I.jsx("div",{className:"row btn btn-primary ",children:I.jsxs("label",{children:["Choose File",I.jsx("input",{type:"file",multiple:!0,hidden:!0,accept:"images/*",onChange:i})]})})]})};export{Ct as F};
