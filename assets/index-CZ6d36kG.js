import{t as V,aQ as K,S as L,T as E,a7 as Y,aR as Q,r as s,af as _,av as J,o as $,C as k,y as X,ai as Z,R as x,aS as ee,a2 as te}from"./index-zqpnlBSv.js";import{i as ne}from"./isVisible-B1buT0cz.js";import{c as oe}from"./reactNode-824deoOW.js";var h=V({},K),re=h.version,se=h.render,ae=h.unmountComponentAtNode,C;try{var ie=Number((re||"").split(".")[0]);ie>=18&&(C=h.createRoot)}catch{}function O(e){var t=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&Y(t)==="object"&&(t.usingClientEntryPoint=e)}var y="__rc_react_root__";function ce(e,t){O(!0);var n=t[y]||C(t);O(!1),n.render(e),t[y]=n}function ue(e,t){se(e,t)}function le(e,t){if(C){ce(e,t);return}ue(e,t)}function de(e){return w.apply(this,arguments)}function w(){return w=L(E().mark(function e(t){return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Promise.resolve().then(function(){var r;(r=t[y])===null||r===void 0||r.unmount(),delete t[y]}));case 1:case"end":return o.stop()}},e)})),w.apply(this,arguments)}function fe(e){ae(e)}function pe(e){return N.apply(this,arguments)}function N(){return N=L(E().mark(function e(t){return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(C===void 0){o.next=2;break}return o.abrupt("return",de(t));case 2:fe(t);case 3:case"end":return o.stop()}},e)})),N.apply(this,arguments)}const ve=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${e.motionEaseInOut}`,`opacity 0.35s ${e.motionEaseInOut}`].join(",")}}}}},me=Q("Wave",e=>[ve(e)]),A="ant-wave-target";function be(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function S(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&be(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function he(e){const{borderTopColor:t,borderColor:n,backgroundColor:o}=getComputedStyle(e);return S(t)?t:S(n)?n:S(o)?o:null}function g(e){return Number.isNaN(e)?0:e}const Re=e=>{const{className:t,target:n,component:o}=e,r=s.useRef(null),[u,d]=s.useState(null),[f,R]=s.useState([]),[l,a]=s.useState(0),[p,v]=s.useState(0),[I,D]=s.useState(0),[U,j]=s.useState(0),[B,F]=s.useState(!1),W={left:l,top:p,width:I,height:U,borderRadius:f.map(c=>`${c}px`).join(" ")};u&&(W["--wave-color"]=u);function T(){const c=getComputedStyle(n);d(he(n));const i=c.position==="static",{borderLeftWidth:b,borderTopWidth:m}=c;a(i?n.offsetLeft:g(-parseFloat(b))),v(i?n.offsetTop:g(-parseFloat(m))),D(n.offsetWidth),j(n.offsetHeight);const{borderTopLeftRadius:q,borderTopRightRadius:z,borderBottomLeftRadius:M,borderBottomRightRadius:G}=c;R([q,z,G,M].map(H=>g(parseFloat(H))))}if(s.useEffect(()=>{if(n){const c=_(()=>{T(),F(!0)});let i;return typeof ResizeObserver<"u"&&(i=new ResizeObserver(T),i.observe(n)),()=>{_.cancel(c),i==null||i.disconnect()}}},[]),!B)return null;const P=(o==="Checkbox"||o==="Radio")&&(n==null?void 0:n.classList.contains(A));return s.createElement(J,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(c,i)=>{var b;if(i.deadline||i.propertyName==="opacity"){const m=(b=r.current)===null||b===void 0?void 0:b.parentElement;pe(m).then(()=>{m==null||m.remove()})}return!1}},c=>{let{className:i}=c;return s.createElement("div",{ref:r,className:$(t,{"wave-quick":P},i),style:W})})},Ee=(e,t)=>{var n;const{component:o}=t;if(o==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",e==null||e.insertBefore(r,e==null?void 0:e.firstChild),le(s.createElement(Re,Object.assign({},t,{target:e})),r)},_e=Ee,ye=(e,t,n)=>{const{wave:o}=s.useContext(k),[,r,u]=X(),d=Z(l=>{const a=e.current;if(o!=null&&o.disabled||!a)return;const p=a.querySelector(`.${A}`)||a,{showEffect:v}=o||{};(v||_e)(p,{className:t,token:r,component:n,event:l,hashId:u})}),f=s.useRef();return l=>{_.cancel(f.current),f.current=_(()=>{d(l)})}},Ce=ye,Se=e=>{const{children:t,disabled:n,component:o}=e,{getPrefixCls:r}=s.useContext(k),u=s.useRef(null),d=r("wave"),[,f]=me(d),R=Ce(u,$(d,f),o);if(x.useEffect(()=>{const a=u.current;if(!a||a.nodeType!==1||n)return;const p=v=>{!ne(v.target)||!a.getAttribute||a.getAttribute("disabled")||a.disabled||a.className.includes("disabled")||a.className.includes("-leave")||R(v)};return a.addEventListener("click",p,!0),()=>{a.removeEventListener("click",p,!0)}},[n]),!x.isValidElement(t))return t??null;const l=ee(t)?te(t.ref,u):u;return oe(t,{ref:l})},We=Se;export{A as T,We as W,le as r,pe as u};
