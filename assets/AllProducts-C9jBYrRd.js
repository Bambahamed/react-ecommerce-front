import{j as s,P as x,L as p,r as n,b as h,B as d}from"./index-zqpnlBSv.js";import{b as j,r as f}from"./product-ChCEngkO.js";import{C as m}from"./index-C-L1u7SG.js";import{E as g}from"./EditOutlined-BfIYozfU.js";import{D as v}from"./DeleteOutlined-C27UUfVm.js";import{A as N}from"./AdminNav-COMLd7qX.js";import"./isVisible-B1buT0cz.js";import"./index-DRABmW48.js";import"./index-AZ08od_9.js";const{Meta:P}=m,w=({product:c,handleRemove:i})=>{const{title:l,description:t,images:o,slug:a}=c;return s.jsx(m,{cover:s.jsx("img",{src:o&&o.length?o[0].url:x,style:{height:150,objectFit:"cover"},className:"p-1"}),actions:[s.jsx(p,{to:`/admin/product/${a}`,children:s.jsx(g,{className:"text-warning"})}),s.jsx(v,{onClick:()=>i(a),className:"text-danger"})],children:s.jsx(P,{title:l,description:`${t&&t.substring(0,10)}...`})})},B=()=>{const[c,i]=n.useState([]),[l,t]=n.useState(!1),{user:o}=h(e=>({...e}));n.useEffect(()=>{a()},[]);const a=()=>{t(!0),j(100).then(e=>{i(e.data),console.log(e.data),t(!1)}).catch(e=>{t(!1),console.log(e)})},u=e=>{window.confirm("Delete?")&&f(o.token,e).then(r=>{a(),d.error(`${r.title} is deleted`)}).catch(r=>{r.response.status===400&&d.error(r.response.data),console.log(r)})};return s.jsx("div",{className:"container-fluid",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-2",children:s.jsx(N,{})}),s.jsxs("div",{className:"col",children:[l?s.jsx("h4",{className:"text-danger",children:"Loading..."}):s.jsx("h4",{children:"All Products "}),s.jsx("div",{className:"row",children:c.map(e=>s.jsx("div",{className:"col-md-4 pb-3",children:s.jsx(w,{product:e,handleRemove:u})},e._id))})]})]})})};export{B as default};
