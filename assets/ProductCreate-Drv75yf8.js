import{j as e,r as l,b as N,a1 as S,B as C}from"./index-zqpnlBSv.js";import{A as y}from"./AdminNav-COMLd7qX.js";import{c as P}from"./product-ChCEngkO.js";import{S as v}from"./useBreakpoint-B5hyLGci.js";import{g as w,b as O}from"./category-CpwOFqa3.js";import{F as A}from"./FileUpload-ZXvNyLd5.js";import"./index-DRABmW48.js";import"./isVisible-B1buT0cz.js";import"./PurePanel-CrjQDgOw.js";import"./compact-item-5orumCwJ.js";import"./CheckOutlined-Dsv2YYll.js";import"./SearchOutlined-DUc0Jttr.js";import"./index-DPYX0Y6Z.js";import"./index-DpfWrYQ0.js";import"./reactNode-824deoOW.js";const{Option:B}=v,E=({handleChange:o,handleSubmit:r,values:n,handleCategoryChange:d,subOptions:i,showSub:m,setValues:p})=>{const{title:u,description:h,price:x,categories:c,category:g,subs:j,shipping:t,quantity:a,images:D,colors:f,brands:b,color:T,brand:Y}=n;return e.jsx("div",{children:e.jsxs("form",{onSubmit:r,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",name:"title",className:"form-control",value:u,onChange:o})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("input",{type:"text",name:"description",className:"form-control",value:h,onChange:o})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Price"}),e.jsx("input",{type:"number",name:"price",className:"form-control",value:x,onChange:o})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Shipping"}),e.jsxs("select",{name:"shipping",className:"form-control",onChange:o,children:[e.jsx("option",{children:"Please select"}),e.jsx("option",{value:"No",children:"No"}),e.jsx("option",{value:"Yes",children:"Yes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Quantity"}),e.jsx("input",{type:"number",name:"quantity",className:"form-control",value:a,onChange:o})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Color"}),e.jsxs("select",{name:"color",className:"form-control",onChange:o,children:[e.jsx("option",{children:"Please select"}),f.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Brand"}),e.jsxs("select",{name:"brand",className:"form-control",onChange:o,children:[e.jsx("option",{children:"Please select"}),b.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{name:"category",className:"form-control",onChange:d,children:[e.jsx("option",{children:"Please select"}),c&&c.map(s=>e.jsx("option",{value:s._id,children:s.name},s._id))]})]}),m&&e.jsxs("div",{children:[e.jsx("label",{children:"Sub Category"}),e.jsx(v,{mode:"multiple",style:{width:"100%"},placeholder:"Please Select",value:j,onChange:s=>p({...n,subs:s}),children:i.length&&i.map(s=>e.jsx(B,{value:s._id,children:s.name},s._id))})]}),e.jsx("button",{className:"btn btn-outline-info",children:"Save"})]})})},L={title:"",description:"",price:"",category:"",subs:[],shopping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"",brand:""},z=()=>{const[o,r]=l.useState(L),[n,d]=l.useState([]),[i,m]=l.useState(!1),[p,u]=l.useState(!1),{user:h}=N(t=>({...t}));l.useEffect(()=>{x()},[]);const x=()=>w().then(t=>r({...o,categories:t.data})),c=t=>{t.preventDefault(),P(h.token,o).then(a=>{console.log(a),window.alert(`"${a.title}" is created`),window.location.reload()}).catch(a=>{console.log(a),a.response.status===400&&C.error(a.response.data)})},g=t=>{r({...o,[t.target.name]:t.target.value})},j=t=>{t.preventDefault(),console.log("CLICKED CATEGORY",t.target.value),r({...o,subs:[],category:t.target.value}),O(t.target.value).then(a=>{console.log("SUB OPTIONS ON CATGEORY CLICK",a),d(a)}),m(!0)};return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-2",children:e.jsx(y,{})}),e.jsxs("div",{className:"col-md-10",children:[p?e.jsx(S,{className:"text-danger h1"}):e.jsx("h4",{children:"Product create"}),e.jsx("hr",{}),JSON.stringify(o.images),e.jsx("div",{className:"p-3",children:e.jsx(A,{values:o,setValues:r,setLoading:u})}),e.jsx(E,{handleSubmit:c,handleChange:g,setValues:r,values:o,handleCategoryChange:j,subOptions:n,showSub:i})]})]})})};export{z as default};
